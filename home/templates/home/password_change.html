<!--
Html template to change user password
replaces registration/password_change_form.html
-->

{% if form.errors or error_string %}
  <!-- Form Alerts -->
  <div
    class="alert {% if form.errors %} alert-warning
      {% else %} alert-danger
    {% endif %}"
    role="alert"
  />
    {% if form.errors %}
      There were errors found:
      {{ form.non_field_errors }}
    {% else %}
      {{ error_string }}
    {% endif %}
  </div>
{% endif %}

<form method="post">
  {% csrf_token %}

  {% for field in form.visible_fields %}
    <div class="form-group">
      <label for="{{field.id_for_label}}">
        {{field.label.capitalize}}:
      </label>
      {{ field }}
      <small class="form-text text-muted">
        {{ field.help_text }}
      </small>
      <small class="form-text text-danger">
        {{ field.errors }}
      </small>
    </div>
  {% endfor %}
  
  <!-- Buttons -->
  <div class="mt-3 p-2 border-top border-primary">
    <button type="submit" class="btn btn-primary">
      Save
    </button>
    <a
      class="btn btn-secondary"
      role="button"
      href="{% url 'home:user_profile' %}"
    >
      Cancel
    </a>
  </div>

</form>
